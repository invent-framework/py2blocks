<!DOCTYPE html>
<html lang="en">
<head>
    <title>Py2Blocks</title>

    <!-- Recommended meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="stylesheet" href="https://pyscript.net/releases/2025.2.4/core.css" />
    <script type="module" src="https://pyscript.net/releases/2025.2.4/core.js"></script>

    <!-- Blockly -->
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>

    <!-- Blockly Plugins -->
    <script src="https://unpkg.com/@blockly/block-shareable-procedures@5.0.12/dist/index.js"></script>  
    <script>
      registerProcedureSerializer();
    </script>  

    <script type="module" src="/src/plugins/drag-strategy/drag-strategy.js"></script>
    <script type="module" src="/src/renderer/renderer.js"></script>

    <!-- Blocks -->
    <script type="module" src="/src/blocks/theme.js"></script>
    <script type="module" src="/src/blocks/common/definitions.js"></script>
    <script type="module" src="/src/blocks/functions/definitions.js"></script>
    <script type="module" src="/src/blocks/variables/definitions.js"></script>
    <script type="module" src="/src/blocks/math/definitions.js"></script>
    <script type="module" src="/src/blocks/text/definitions.js"></script>

    <style>
    body {
      font-family: Verdana, Geneva, Tahoma, sans-serif;
    }
    a, a:visited {
      color: #004dcc;
    }
    h2 {
      color: #0000008a;
    }
    .blockly {
      height: 200px; width: 100%; margin-top: 1rem;
    }
    </style>
</head>
<body>
  <py-config>
    {
        "files":{
            "./static/test_suite.tar.gz": "./*",
            "https://raw.githubusercontent.com/ntoll/upytest/main/upytest.py": "",
            "https://raw.githubusercontent.com/ntoll/umock/main/umock.py": ""
        }
    }
  </py-config>
  <div style="margin: auto; width: 85%" id="main">
    <p>Running test suite in a worker with Pyodide:</p>
    <script type="py" src="./static/main.py" terminal worker></script>
  </div>
</body>